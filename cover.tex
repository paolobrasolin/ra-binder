\documentclass{minimal}

%\RequireXeTeX

\def\cs#1{\csname#1\endcsname}

\usepackage{calc}

\def\defLength#1#2{ % \defLength{name}{value}
 \expandafter\newlength\csname#1\endcsname
 \expandafter\setlength\csname#1\endcsname{#2}}

\defLength{hL}{8in}      % cover height
\defLength{wL}{5in}      % cover width
\defLength{gL}{0.8333in} % gutter width
\defLength{bL}{0.125in}  % bleed
\defLength{swL}{\bL+\wL+\gL+\wL+\bL} % spread width
\defLength{shL}{\bL+\hL+\bL} % spread height
\defLength{iL}{0.25in}   % inset

\usepackage[papersize={\swL,\shL}]{geometry}

\usepackage{fontspec}
\setmainfont{Linux Libertine O}
\setmonofont{Linux Libertine Mono O}
%\setmainfont{LinLibertine_R}%
%  [ Extension = .otf
%  , FontFace = {m} {it}{*I}
%  , FontFace = {b} {n} {*B}
%  , FontFace = {bx}{n} {*Z}
%  ]

\usepackage{xcolor}
\pagecolor{black}

\usepackage{tikz}
\usetikzlibrary{calc}

\def\defCageSizes#1#2#3#4{ % \defCageSizes{baseName}{width}{height}{padding}
  \defLength{#1W}{#2}                    % baseNameW  = width
  \defLength{#1H}{#3}                    % baseNameH  = height
  \defLength{#1P}{#4}                    % baseNameP  = padding
  \defLength{#1Wp}{#2 - (#4) * \real{2}} % baseNameWp = padded width
  \defLength{#1Hp}{#3 - (#4) * \real{2}} % baseNameHp = padded height
}

\def\cage#1[#2][#3] (#4) at (#5);{
  \node [ cage={#1W}{#1H},   #2 ] (#4 outer cage) at (#5) {};
  \node [ cage={#1Wp}{#1Hp}, #3 ] (#4 inner cage) at (#4 outer cage.center) {};
}

\tikzset{
  cage/.style 2 args={ %draw, ultra thin, darkgray
                     , minimum width  = \cs{#1}
                     , minimum height = \cs{#2} },
  extended line/.style={shorten >=-#1,shorten <=-#1},
  extended line/.default=1cm
}

\defCageSizes{spread}{\swL}{\shL}{\bL}
\defCageSizes{cover}{\wL}{\hL}{\iL}
\defCageSizes{gutter}{\gL}{\hL}{\iL}

%\usepackage[final]{microtype}

\begin{document}%
  \begin{tikzpicture}[overlay,remember picture]
    \node at (current page.center){\includegraphics[width=\swL,height=\shL]{cover.jpg}};
    \cage{spread}[][] (spread) at (current page.center);
    \begin{scope}[even odd rule, black!90!white]
      \fill (spread outer cage.north west) rectangle (spread outer cage.south east)
            (spread inner cage.north west) rectangle (spread inner cage.south east);
    \end{scope}
    \cage{gutter}[][] (gutter) at (spread inner cage.center);
    \cage{cover}[anchor=east][] (front cover) at (spread inner cage.east);
    \cage{cover}[anchor=west][] (back cover) at (spread inner cage.west);
    \coordinate (sun point) at ($(front cover inner cage.north)!0.4!(front cover inner cage.south)$);
    \coordinate (earth point) at ($(back cover inner cage.north)!0.8!(back cover inner cage.south)$);
    \coordinate (cross point) at ($(earth point)!0.5!(sun point)$);
%    \draw (earth point) -- (sun point);
    \pgfmathanglebetweenpoints
      {\pgfpointanchor{earth point}{center}}
      {\pgfpointanchor{sun point}{center}}
    \def\eclipticangle{\pgfmathresult}
    \pgfmathsetmacro\galaxyangle{\eclipticangle-60}
%    \draw (cross point) +(\galaxyangle:\swL) -- +(\galaxyangle+180:\swL);
    \node[ circle, inner sep=0in, minimum size=4in] (sun) at (sun point) {};
    \node[ circle, inner sep=0in, minimum size=4in/109.2] (earth) at (earth point) {};
    \node[ white
         ]
         (author)
         at ($(front cover inner cage.north)!0.5!(sun.north)$)
         {Sam Hughes};
    \node[ white
         , font=\fontsize{100}{0}\ttfamily
         ]
         (title)
         at ($(front cover inner cage.south)!0.5!(sun.south)$)
         {ra};
    \node[ text width=0.5\wL
         , align=justify
         , white
         ]
         (teaser)
         at (back cover inner cage)
         {\input{teaser}};
    \node[ white
         , rotate=-90
         , anchor=west
         , font=\fontsize{16}{0}\selectfont
         ] at (gutter inner cage.north) {Sam Hughes};
    \node[ white
         , rotate=-90
         , font=\fontsize{50}{0}\ttfamily
         ] at ($(gutter inner cage.north)!0.4!(gutter inner cage.south)$) {ra};
    \node[anchor=south] at (gutter inner cage.south) {\includegraphics[width=0.7\gL]{glyph-white}};
%    \node[anchor=south,opacity=.2] at (teaser.north) {\includegraphics[width=0.3\wL]{wadjet-white}};
  \end{tikzpicture}%
\end{document}











